<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Macro Calculator</title>

<style>
body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: #f5f5f5;
  padding: 20px;
}

.calculator {
  max-width: 600px;
  margin: auto;
  background: #fff;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0,0,0,.08);
}

h2 { margin-bottom: 10px; }
.subtitle { color:#666; margin-bottom:20px; }

.form-group { margin-bottom: 18px; }
label { display:block; margin-bottom:6px; font-weight:600; }

input, select {
  width:100%;
  padding:10px;
  font-size:16px;
  border-radius:6px;
  border:2px solid #ddd;
}

.row { display:grid; grid-template-columns:1fr 1fr; gap:12px; }

.unit-toggle { display:flex; gap:6px; margin-top:6px; }
.unit-btn {
  flex:1;
  padding:6px;
  cursor:pointer;
  border:2px solid #ddd;
  background:#fff;
}
.unit-btn.active {
  background:#4CAF50;
  color:#fff;
  border-color:#4CAF50;
}

.goal-buttons {
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
}
.goal-btn {
  padding:12px;
  border:2px solid #ddd;
  background:#fff;
  cursor:pointer;
}
.goal-btn.active {
  background:#4CAF50;
  color:#fff;
  border-color:#4CAF50;
}

.calculate-btn {
  margin-top:20px;
  width:100%;
  padding:15px;
  font-size:17px;
  font-weight:700;
  background:#4CAF50;
  color:#fff;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

.results {
  display:none;
  margin-top:30px;
  padding:20px;
  border:2px solid #4CAF50;
  border-radius:10px;
  background:#f0f8f0;
}

.results.active { display:block; }

.warning {
  background:#fff3cd;
  padding:10px;
  border-left:4px solid #ffc107;
  margin-top:10px;
}
</style>
</head>

<body>

<div class="calculator">
  <h2>Macro Calculator</h2>
  <p class="subtitle">Personalized macros based on your goal</p>

  <form id="form">
    <div class="row">
      <div class="form-group">
        <label>Age</label>
        <input type="number" id="age" required>
      </div>
      <div class="form-group">
        <label>Gender</label>
        <select id="gender" required>
          <option value="">Select</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <label>Weight</label>
      <input type="number" id="weight" required>
      <div class="unit-toggle">
        <button type="button" class="unit-btn active" data-unit="lbs">lbs</button>
        <button type="button" class="unit-btn" data-unit="kg">kg</button>
      </div>
    </div>

    <div class="form-group">
      <label>Height</label>
      <input type="number" id="height" required>
      <div class="unit-toggle">
        <button type="button" class="unit-btn active" data-unit="in">in</button>
        <button type="button" class="unit-btn" data-unit="cm">cm</button>
      </div>
    </div>

    <div class="form-group">
      <label>Goal</label>
      <div class="goal-buttons">
        <button type="button" class="goal-btn" data-goal="cut">Fat Loss</button>
        <button type="button" class="goal-btn" data-goal="maintain">Maintain</button>
        <button type="button" class="goal-btn" data-goal="bulk">Build</button>
        <button type="button" class="goal-btn" data-goal="recomp">Recomp</button>
      </div>
    </div>

    <button class="calculate-btn">Calculate</button>
  </form>

  <div class="results" id="results">
    <h3>Your Calories</h3>
    <div id="output"></div>
  </div>
</div>

<script>
let weightUnit = 'lbs';
let heightUnit = 'in';
let goal = null;

document.querySelectorAll('.unit-btn').forEach(btn=>{
  btn.onclick=()=>{
    btn.parentElement.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    btn.dataset.unit.length === 2 ? weightUnit = btn.dataset.unit : heightUnit = btn.dataset.unit;
  }
});

document.querySelectorAll('.goal-btn').forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll('.goal-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    goal = btn.dataset.goal;
  }
});

document.getElementById('form').onsubmit=e=>{
  e.preventDefault();
  if(!goal) return alert('Select a goal');

  let w = +weight.value;
  let h = +height.value;

  if(weightUnit==='lbs') w*=0.4536;
  if(heightUnit==='in') h*=2.54;

  let bmr = gender.value==='male'
    ? 10*w + 6.25*h - 5*age.value + 5
    : 10*w + 6.25*h - 5*age.value - 161;

  document.getElementById('output').innerText =
    Math.round(bmr) + ' calories/day';
  results.classList.add('active');
};
</script>

</body>
</html>
